---
version: '3'

tasks:
  html:
    deps:
      - :npm:install:typedoc
    desc: Generate TypeDoc HTML documentation
    cmds:
      - '{{.NPM_BINARY_HANDLE}}typedoc src/ --exclude "**/*.spec.ts" --out build/docs'

  json:
    deps:
      - :npm:install:typedoc
    desc: Generate TypeDoc JSON documentation
    cmds:
      - '{{.NPM_BINARY_HANDLE}}typedoc src/ --exclude "**/*.spec.ts" --json build/docs/typedoc.json'

  open:
    deps:
      - html
      - :npm:install:open-cli
    cmds:
      - '{{.NPM_BINARY_HANDLE}}open-cli build/docs/index.html'
