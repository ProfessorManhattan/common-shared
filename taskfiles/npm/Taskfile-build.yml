---
version: '3'

tasks:
  all:
    deps:
      - build:main
      - build:module

  main:
    deps:
      - :common:node:dependencies:local
    desc: Build `main` using `tsconfig.json`
    cmds:
      - npm run build:main

  module:
    deps:
      - :common:node:dependencies:local
    desc: Build `module` using `tsconfig.module.json`
    cmds:
      - npm run build:module

  watch:
    deps:
      - :common:node:dependencies:local
    desc: Run the build logic for an NPM project in watch mode
    cmds:
      - npm run build:watch
